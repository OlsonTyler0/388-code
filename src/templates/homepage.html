{% extends 'base.html' %}

{% block title %}Privacy Pulse - YouTube Data Privacy Dashboard{% endblock %}

{% block styles %}
<style>
    .hero-section {
        border-radius: 15px;
        padding: 4rem 2rem;
        margin-bottom: 3rem;
        position: relative;
        overflow: hidden;
    }
    
    .hero-section::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: url('https://images.unsplash.com/photo-1517817748493-49ec54a32465?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') no-repeat center center;
        background-size: cover;
        opacity: 0.1;
        z-index: 0;
    }
    
    .hero-content {
        position: relative;
        z-index: 1;
    }
    
    .feature-card {
        border-radius: 15px;
        height: 100%;
        transition: all 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-10px);
    }
    
    .feature-icon {
        width: 70px;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        margin-bottom: 1.5rem;
        font-size: 2rem;
    }
    
    .icon-primary {
        background-color: rgba(67, 97, 238, 0.1);
        color: var(--primary-color);
    }
    
    .icon-success {
        background-color: rgba(76, 201, 240, 0.1);
        color: var(--success-color);
    }
    
    .icon-info {
        background-color: rgba(72, 149, 239, 0.1);
        color: var(--accent-color);
    }
    
    .icon-secondary {
        background-color: rgba(63, 55, 201, 0.1);
        color: var(--secondary-color);
    }
    
    .admin-card {
        background: linear-gradient(135deg, #f1f3f9 0%, #e7eaf6 100%);
        border-left: 5px solid var(--primary-color);
    }
    
    .stat-counter {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section bg-gradient-primary text-white mb-5">
    <div class="container hero-content">
        <div class="row align-items-center">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4 fw-bold mb-3">YouTube Privacy Analysis Dashboard</h1>
                <p class="lead mb-4 fs-5">
                    Gain valuable insights into privacy-related content on YouTube. Track engagement metrics and discover sentiment patterns through comprehensive data analysis.
                </p>
                <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
                    <a href="{{ url_for('youtube.youtube_privacy') }}" class="btn btn-light btn-lg px-4 py-2">
                        <i class="bi bi-play-circle me-2"></i>Get Started
                    </a>
                    <a href="#features" class="btn btn-outline-light btn-lg px-4 py-2">
                        <i class="bi bi-info-circle me-2"></i>Learn More
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="container" id="features">
    <div class="row mb-5">
        <div class="col-12 text-center mb-4">
            <h2 class="display-6 fw-bold">Our Core Features</h2>
            <p class="lead text-muted">Powerful tools to analyze privacy content on YouTube</p>
        </div>
    </div>
    
    <div class="row g-4 py-3">
        <div class="col-md-3">
            <div class="card feature-card h-100 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="feature-icon icon-primary mx-auto">
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <h5 class="card-title mb-3">Privacy Content Analysis</h5>
                    <p class="card-text text-muted">
                        Track and analyze privacy-focused content performance on YouTube with real-time metrics and engagement data.
                    </p>
                    <div class="mt-4">
                        <a href="{{ url_for('youtube.youtube_privacy') }}" class="btn btn-primary">
                            <i class="bi bi-graph-up me-2"></i>Analyze Content
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="card feature-card h-100 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="feature-icon icon-success mx-auto">
                        <i class="bi bi-emoji-smile"></i>
                    </div>
                    <h5 class="card-title mb-3">Sentiment Analysis</h5>
                    <p class="card-text text-muted">
                        Understand public opinion through advanced comment sentiment analysis using AI-powered tools.
                    </p>
                    <div class="mt-4">
                        <a href="{{ url_for('sentiment.sentiment_analysis') }}" class="btn btn-success">
                            <i class="bi bi-chat-square-text me-2"></i>Analyze Sentiment
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card feature-card h-100 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="feature-icon icon-info mx-auto">
                        <i class="bi bi-tags"></i>
                    </div>
                    <h5 class="card-title mb-3">Tag Analysis</h5>
                    <p class="card-text text-muted">
                        Discover trending topics and patterns through comprehensive tag analysis of privacy videos.
                    </p>
                    <div class="mt-4">
                        <a href="{{ url_for('analysis.tag_analysis') }}" class="btn btn-info text-white">
                            <i class="bi bi-hash me-2"></i>Analyze Tags
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="card feature-card h-100 shadow-sm">
                <div class="card-body text-center p-4">
                    <div class="feature-icon icon-secondary mx-auto">
                        <i class="bi bi-cloud-upload"></i>
                    </div>
                    <h5 class="card-title mb-3">Data Storage</h5>
                    <p class="card-text text-muted">
                        Securely store and manage your analysis results in the cloud with efficient data organization.
                    </p>
                    <div class="mt-4">
                        <a href="{{ url_for('storage.storage_manager') }}" class="btn btn-secondary">
                            <i class="bi bi-folder me-2"></i>Manage Storage
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% if current_user.role == 'admin' %}
<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <div class="card admin-card shadow-sm">
                <div class="card-body p-4">
                    <div class="d-flex align-items-center mb-3">
                        <div class="feature-icon icon-primary me-3" style="width: 50px; height: 50px; font-size: 1.5rem;">
                            <i class="bi bi-gear-fill"></i>
                        </div>
                        <h4 class="mb-0">Admin Tools</h4>
                    </div>
                    <p class="card-text text-muted mb-4">Access administrative features and configuration settings to customize your dashboard experience.</p>
                    <div class="d-flex flex-wrap gap-2">
                        <a href="{{ url_for('admin.config') }}" class="btn btn-outline-primary">
                            <i class="bi bi-wrench me-2"></i>Configuration
                        </a>
                        <a href="{{ url_for('storage.summarize_json') }}" class="btn btn-outline-secondary">
                            <i class="bi bi-file-text me-2"></i>JSON Summary
                        </a>
                        <a href="{{ url_for('main.more') }}" class="btn btn-outline-info">
                            <i class="bi bi-three-dots me-2"></i>More Options
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endif %}

<!-- Stats Section -->
<div class="container mt-5">
    <div class="row text-center">
        <div class="col-12 mb-4">
            <h3 class="fw-bold">Privacy Analysis Dashboard Statistics</h3>
            <p class="text-muted">Real-time insights into YouTube privacy content</p>
        </div>
    </div>
    <div class="row text-center">
        <div class="col-md-3">
            <div class="stat-counter" data-count="1000">0</div>
            <p class="text-muted">Videos Analyzed</p>
        </div>
        <div class="col-md-3">
            <div class="stat-counter" data-count="50000">0</div>
            <p class="text-muted">Comments Processed</p>
        </div>
        <div class="col-md-3">
            <div class="stat-counter" data-count="120">0</div>
            <p class="text-muted">Privacy Tags Identified</p>
        </div>
        <div class="col-md-3">
            <div class="stat-counter" data-count="98">0</div>
            <p class="text-muted">Accuracy Rate (%)</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Animate counters when in viewport
    document.addEventListener('DOMContentLoaded', function() {
        const counters = document.querySelectorAll('.stat-counter');
        const speed = 200; // The lower the faster
        
        const animateCounters = () => {
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-count');
                const count = +counter.innerText;
                const increment = target / speed;
                
                if (count < target) {
                    counter.innerText = Math.ceil(count + increment);
                    setTimeout(animateCounters, 1);
                } else {
                    counter.innerText = target;
                }
            });
        };
        
        // Check if element is in viewport
        function isInViewport(element) {
            const rect = element.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }
        
        // Start animation when counters come into view
        function checkCounters() {
            if (counters.length > 0 && isInViewport(counters[0])) {
                animateCounters();
                window.removeEventListener('scroll', checkCounters);
            }
        }
        
        window.addEventListener('scroll', checkCounters);
        checkCounters(); // Check on initial load
    });
</script>
{% endblock %}